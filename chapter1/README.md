# 요약

타입스크립트는 사용 방식 면에서 조금은 독특한 언어이다.

인터프리터로 실행되는 것도 아니고, 저수준 언어로 컴파일되는 것도 아니다.

또 다른 고수준 언어인 자바스크립트로 컴파일 되며, 실행 역시 타입스크립트가 아닌 자바스크립트로 이루어진다.

## Item1. 타입스크립트와 자바스크립트의 관계 이해하기

타입스크립트는 타입이 정의된 자바스크립트의 상위 집합이다.
문법의 유효성과 동작의 이슈는 독립적인 문제이다. 타입스크립트는 여전히 작성된 코드를 파싱하고 자바스크립트로 변환할 수 있다.(타입스크립트에 타입체커가 이슈를 체크해줘도 컴파일 할 수 있다.)
모든 자바스크립트 프로그램이 타입스크립트라는 명제는 참이지만, 그 반대는 성립하지 않는다.
타입 시스템이 정적 타입의 정확성을 보장해 줄 것 같지만 그렇지 않다.

## Item2. 타입스크립트 설정 이해하기

타입스크립트에서 엄격한 체크를 하고 싶다면 strict 설정을 고려해야 합니다.
`noImplicitAny` `strictNullChecks`

타입스크립트는 타입 정보를 가질 때 가장 효과적이기 때문에, 되도록이면 noImplicitAny를 설정해야 한다.

## Item3. 코드 생성과 타입이 관계없음을 이해하기

타입스크립트 컴파일러는 두 가지 역할을 수행한다.

- 최신 타입스크립트 / 자바스크립트를 브라우저에서 동작할 수 있도록 구버전의 자바스크립트로 트랜스파일합니다.
- 코드의 타입 오류를 체크합니다.

* 타입 오류가 있는 코드도 컴파일이 가능하다.
* 타입 연산은 런타임에 영향을 주지 않습니다.
* 런타임 타입은 선언된 타입과 다를 수 있습니다.

  - 타입스크립트에서는 런타임 타입과 선언된 타입이 맞지 않을 수 있다. 타입이 달라지는 혼란스러운 상황을 가능한 한 피해야 한다. 선언된 타입이 언제든지 달라질 수 있다는 것을 명심해야 한다.

* 타입스크립트 타입으로는 하수를 오버로드 할 수 없습니다.

* 타입스크립트 타입은 런타임 성능에 영향을 주지 않습니다.

## Item4. 구조적 타이핑에 익숙해지기

덕 타이핑과 구조적 타이핑의 차이

덕 타이핑은 런타임에 타입을 체크한다 (혹은 안할수도 있음)
구조적 타이핑은 타입 시스템 기반에서 컴파일 타임(혹은 타입체커)에서 타입을 체크한다.
즉, 둘 다 객체의 변수, 메소드 같은 필드를 기반으로 타입을 체크(혹은 안할수도)하지만 덕 타이핑은 동적 타이핑에서, 구조적 타이핑은 정적 타이핑에서 쓰인다
덕 타이핑은 다형성 관점에서 주목해야하고, 구조적 타이핑은 타입 체킹 관점이다.

자바스크립트는 본질적으로 덕 타이핑 기반이다.
테스트를 작성할 때는 구조적 타이핑이 유리하다.

## Item5. any 타입 지양하기

타입스크립트의 타입 시스템은 점진적이고 선택적이다.

언제든지 타입 체커를 해제할 수 있기 때문에 선택적이며 이 기능들의 핵심은 any 타입이다.

```
let age: number;
age = '12'; // number 형식에 할당할 수 없습니다.

age = '12' as any; // OK
```

타입 단언문(as any)를 사용하게 되면 타입스크립트의 수많은 장점을 누릴 수 없게 된다.

### any 타입에는 타입 안정성이 없다.

```
age += 1; // 런타임에 정상, age는 "121"
```

### any는 함수 시그니처를 무시해 버립니다.

기본적으로 함수를 작성할 때는 호출하는 쪽은 약속된 타입의 입력을 제공하고, 함수는 약속된 타입의 출력을 반환해야한다. 그러나 any 타입을 사용하면 이런 약속을 어길 수 있다.

```
fuction calculateAge(birthDate: Date): number {
// ...
}

let birthDate: any = '1990-01-19';
calculateAge(birthDate); // 정상
```

### any 타입에는 언어 서비스가 적용되지 않는다.

타입스크립트의 모토는 확장 가능한 자바스크립트이며 확장의 중요한 부분은 바로 타입스크립트 경험의 핵심 요소인 언어 서비스이다.(이는 곧 동료의 생산성으로 이어진다.)

```
let person: any = {first: 'EunTaek', last: 'Lee'};
person.
```

### any 타입은 코드 리팩토링 때 버그를 감춥니다.

### any는 타입 설계를 감춰버립니다.

any를 사용하게 되면 타입 설계가 불분명해진다.

### any는 타입시스템의 신뢰도를 떨어뜨립니다.

any타입을 쓰지 않으면 런타임에 발견 된 오류를 미리 잡을 수 있고 신뢰도를 높일 수 있습니다.

# 개인 독후감

## 이은택

기본적인 내용을 제외하고 덕 타이핑과 구조적 타이핑에 대한 이해가 낮아서 따로 찾아봤다. 구조적 타이핑이 유닛 테스트에 유용하다는 것은 아직 실감하지 못해서 따로 테스트해 볼 예정이다.
ts에 어떨 때 컴파일 시 에러가 발생하고 옵션에 따라서 에러 체크를 해주는지 확인할 수 있었던 장이였다. 그 밖에도 중요하다고 볼 수 있는 any 타입 지양에 대한 맛보기 아이템도 있었다. 아마 뒷 부분에서 조금 더 자세하게 다루지 않을까 생각이 든다. 전체적으로 맛보기 장이라는 느낌이 강했다.(당연한 내용들을 담고 있는 느낌)

## 김련호

TS와 JS의 관계는 그저 어렴풋이 짐작하여 명확하게 어떤 관계인지 생각해본적 없이 사용해오고 있었는데 명확한 관계 정의부터 짚고 넘어 가서 명확하게 이해가 되었다. 그리고 책의 예시로 나온 JS의 아주 특이하지만 정상적인 동작들을 보게 되면서 타입 시스템의 중요성을 한번 더 알게 되었다. `any` 또한 타입 정의가 모호하거나 다소 귀찮을 때 사용하곤 했지만 함수의 시그니처를 완전히 무시할 수 있다는 치명적인 강력함이 있는지도 처음 알게 되었다. 앞으로 더 지양해야할 것 같다.

## 강현구

1장을 읽으며 TS의 개념, 자바스크립트와 이해 관계 등에 대해 알 수 있었고 기본적인 타입 체커 설정, 주의점에 대한 내용을 담고 있었다.
타입 시스템은 자바스크립트 동작을 모델링 하며 자바스크립트에서 허용되지만 타입스크립트에서 문제가 되는 경우도 있기도 하고
타입 설정이 100개에 이른다고 하니 프로젝트 초반 그라운드 룰을 정해서 사용하는 것이 개발 생산성과 코드의 품질을 높일 수 있고 ts를 선택하는 가장 큰 이유라고 생각한다.

## 김지섭
1장을 읽으면서 TS와 JS의 관계에 대해 조금 더 깊이 알 수 있었습니다.
개인적으로 더 집중해서 유의깊게 보아야 겠다고 생각한 부분은 코드를 작성할 때, 타입을 명시해준 것이 컴파일 이후 변환된 자바스크립트 코드로 어떻게 변환이 될지를 염두하는 것입니다.
any타입은 지양을 해야한다고 책에 명시되어있는데 어느정도까지 지양을 해야할지도 사실 감이 오지 않아 더 고민을 해야할 것 같습니다.
# 아젠다

- 실제로 any 타입을 어느정도 수준으로 명시하고 사용하는게 좋을까? (ex, 무조건 모든 코드에 타입 명시 vs 일부 파라미터만 명시)

- tsconfig의 strict 옵션[전체 8가지](https://www.typescriptlang.org/tsconfig#strict)을 어느 정도 수준으로 적용하는 것이 좋을까? 혹은 현 프로젝트의 적용상태와 결정 이유는?

### 아젠다 정리

김련호 : 프로젝트에 외부 인터페이스가 많다. 외부에서 제공하는 서비스가 굉장히 많은데, 코드 전체 기능의 70% 클라이언트가 모바일인데 모바일에서 백엔드를 호출하면 백엔드에서 다른 서비스 제공하한테 제공하는 부분이 많은데, 일단 any로 받아온다. → 조금 씩 바뀌기 때문에 타입이 깨지는 경우, 간혹 바뀌는 경우 타입이 깨지는 형태가 있다. 

강현구 : any 타입을 썼었는데, 타입스크립트를 처음 진행하면서 혼자 코드를 짜다보니 타입 추론이 힘들어서 (외부 라이브러리 가져다 쓰다보니) 내부 실제 노드에 있는 라이브러리 타고타고가는것도 어려워서 걷어내면서 구체화를 하려고 한다. 외부 패키지를 사용하는 경우, 타입이 정의가 안되어있는 패키지를 사용할 때 사용한다.

레거시 자바스크립트를 타입스크립트로 포팅할 때, any 타입을 쓰는 경우가 있다. map / reduce 많이 사용할 것 같은 로직이면 참고해서 최대한 해보자는 룰이 정해져있다. 

김지섭 : any 타입은 거의 안쓰고 외부 타입 naver 꺼는 쓰는데  깨지는 경우를 대비해서 사용한다.
